<!DOCTYPE html>
<html>
	<head>
		<title>Reddit PM search bookmarklet</title>
	</head>
	<body>
		<a href="https://github.com/klocatelli/reddit-message-search-bookmarklet">
			<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub">
		</a>

		Problem: Reddit doesn't support searching your messages. You want to search your messages.<br />
		Solution: 
			<a href="javascript:(function(i){var%20m=i(%22.content[role=main]%22),d=i(%22ul.tabmenu%22),r=i(%27<div%20class=%22content%22%20role=%22main%22%20/>%27),v=i(%27<div%20class=%22searchpane%20raisedbox%22%20/>%27),w=i(%27<a%20href=%22javascript:void(0)%22>(close%20search)</a>%27),x=i(%27<h4%20style=%22color:gray%22>search%20messages%20</h4>%27),b=i(%27<form%20method=%22post%22%20id=%22search%22%20role=%22search%22%20/>%27),k=i(%27<input%20type=%22text%22%20name=%22q%22%20placeholder=%22search%20query%22%20/>%27),s=i(%27<div%20class=%22siteTable%22%20class=%22sitetable%20linklisting%22%20/>%27),l=i(%27<p%20id=%22noresults%22%20class=%22error%22%20/>%27),n=i(%27<a%20class=%22prevLink%22%20rel=%22prev%22>%E2%80%B9%20prev</a>%27),p=i(%27<a%20class=%22nextLink%22%20rel=%22next%22>next%20%E2%80%BA</a>%27),h=i(%27<span%20class=%22separator%22></span>%27),e=i(%27<p%20class=%22nextprev%22></p>%27),c=1000;e.append(n);e.append(h);e.append(p);n.hide();p.hide();h.hide();w.click(function(){j()});b.submit(function(z){z.preventDefault();var%20y=i(this).find(%22input[name=q]%22).val();if(!y){alert(%22Enter%20a%20search%20query%22)}else{a(y)}});b.append(k);x.append(w);v.append(x);v.append(b);r.append(v);r.append(s);r.append(l);r.append(e);r.insertAfter(m);m.hide();d.hide();function%20q(y){l.text(y||%22%22)}function%20o(){q();s.empty();p.hide();p.unbind();n.hide();n.unbind();h.hide()}function%20g(){o();q(%22Loading...%22)}function%20a(z,y){g();y=y||{};y.limit=c;i.getJSON(%22/message/messages.json%22,y,function(A){q();f(z,A)}).error(function(){q(%22Error%20getting%20search%20results%20(check%20that%20you%27re%20logged%20in%20and%20reddit%20isn%27t%20under%20heavy%20load)%22)})}function%20f(A,z){var%20y=[];z=z.data;if(z.after){p.show();p.click(function(){a(A,{after:z.after})})}if(z.before){n.show();n.click(function(){a(A,{before:z.before})})}if(z.after&&z.before){h.show()}i.each(z.children,function(B,C){C=C.data;if(u(A,C)){y.push(C)}i.each(C.replies.data.children,function(D,E){E=E.data;if(u(A,E)){y.push(E)}})});if(y.length){y.sort(function(C,B){return%20B.created_utc-C.created_utc});i.each(y,function(B,C){t(C,B)})}else{q(%22No%20results%20in%20this%20block%20of%20%22+c+%22%20threads%22)}}function%20u(B,z){var%20A=(z.subject+z.body).toLowerCase(),y=B.toLowerCase();return%20A.indexOf(y)>-1}function%20t(D,y){var%20z=i(%27<div%20class=%22thing%20message%22%20/>%27),A=i(%27<p%20class=%22subject%22%20/>%27),C=i(%27<div%20class=%22entry%20unvoted%22%20/>%27),F=i(%27<div%20class=%22noncollapsed%22%20/>%27),B=i(%27<p%20class=%22tagline%22%20/>%27),E=i(%27<div%20class=%22clearleft%22%20/>%27);z.addClass(y%2?%22odd%22:%22even%22);z.addClass(%22id-%22+D.name);z.click(click_thing(z));z.attr(%22data-fullname%22,D.name);A.text(D.subject);B.append(%27<span%20class=%22head%22>to%20<b>%27+D.author+%22</b></span>%22);F.append(B);F.append(i(%22<div/>%22).html(D.body_html).text());F.append(%27<ul%20class=%22flat-list%20buttons%22><li%20class=%22first%22><a%20href=%22http://www.reddit.com/message/messages/%27+D.id+%27%22%20class=%22bylink%22%20rel=%22nofollow%22>permalink</a>%27);C.append(F);z.append(A);z.append(C);z.append(E);s.append(z)}function%20j(){r.remove();d.show();m.show()}})(jQuery);">RPMSB</a>
	</body>
</html>